<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Back Button Prevention Example</title>
  </head>
  <body>
    <h1>Welcome to My Website</h1>
    <p>Use the navigation or try pressing the back button!</p>

    <script>
      // Check if this is a history state navigation (i.e., the back button is pressed)
      var popped = "state" in window.history && window.history.state !== null,
        initialURL = location.href;

      // Function to prevent back navigation
      function preventBack() {
        window.history.pushState(null, null, window.location.href);
      }

      // Initial state push to prevent back navigation
      preventBack();

      // Handle popstate event (triggered by back button press)
      window.onpopstate = function (event) {
        if (!popped && location.href === initialURL) {
          // This condition is true only on the initial popstate, i.e., when back button is pressed
          alert("Back button pressed! Navigating to the home page.");
          // Optionally navigate to the home page or take any other action
          window.location.href = initialURL; // Go back to the home page or a different page
        } else {
          // Push the state again to keep the user on the current page
          preventBack();
        }
      };

      // Optionally prevent keyboard shortcuts for back/forward navigation (Alt + Arrow keys)
      window.addEventListener("keydown", function (e) {
        if (e.altKey && (e.key === "ArrowLeft" || e.key === "ArrowRight")) {
          e.preventDefault();
        }
      });
    </script>
  </body>
</html>
